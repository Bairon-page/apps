{
  "tutorial": {
    "id": 2930,
    "version": 2,
    "type": "practiceOptional",
    "isNew": false,
    "codeLanguage": "node",
    "title": "Estructurando Endpoints",
    "descriptionContent": "Estructurando Endpoints",
    "shortDescriptionContent": "",
    "showInTrack": true,
    "iconBanner": null,
    "chapters": [
      {
        "id": 15038,
        "title": "Estructurando Endpoints",
        "type": "practiceLevel3",
        "lessons": [
          {
            "title": "Question: Intro",
            "id": 120933,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>¿Cuándo deberíamos seleccionar <code>POST</code> como el método del endpoint?</p><selection iscode=\"false\" multiple=\"multiple\"><item value=\"1\" correct=\"true\">Siempre que una solicitud implique agregar datos a la base de datos</item><item value=\"2\" correct=\"false\">Siempre que una solicitud implique modificar datos en la base de datos</item><item value=\"3\" correct=\"false\">Siempre que una solicitud implique consultar datos de la base de datos</item></selection><p visible-if=\"wrong\">Siempre que una solicitud implique agregar datos a la base de datos.</p></body></html>"
          },
          {
            "title": "Lesson #5",
            "id": 132644,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>Codifica el código de estado correcto.</p><code version=\"2\" codelang=\"javascript\" name=\"app.js\" visible-if=\"always\"><content><text value=\"app.get(\" /><text value=\"&quot;/members/:name&quot;\" class=\"string\" /><text value=\", (req, res) =&gt; {\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" { name } = req.params;\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" sql = \" /><text value=\"&quot;SELECT * FROM members WHERE name = ?&quot;\" class=\"string\" /><text value=\";\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" requestedMember = db.prepare(sql).get(name);\" /><text type=\"break\" /><text value=\" \" /><text type=\"break\" /><text value=\" \" /><text value=\"if\" class=\"keyword\" /><text value=\" (!requestedMember) {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"404\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Can't find requested member&quot;\" class=\"string\" /><text value=\",\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" } \" /><text value=\"else\" class=\"keyword\" /><text value=\" {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"200\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"member\" class=\"attr\" /><text value=\": requestedMember\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" }\" /><text type=\"break\" /><text value=\"});\" /></content><interactions><interaction type=\"validatedInput\" isDefault=\"true\" startIndex=\"217\" endIndex=\"220\" /></interactions></code><p visible-if=\"wrong\">Asegúrese de elegir <code>404</code>.</p></body></html>"
          },
          {
            "title": "Example: Callback Function",
            "id": 120850,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>Completa los parámetros de la función callback. No olvides incluir una <code>,</code> entre los parámetros.</p><code version=\"2\" codelang=\"javascript\" name=\"app.js\" visible-if=\"always\"><content><text value=\"app.get(\" /><text value=\"&quot;/flights/:number&quot;\" class=\"string\" /><text value=\", (req, res) =&gt; {\" /><text type=\"break\" /><text value=\"  \" /><text value=\"const\" class=\"keyword\" /><text value=\" { number } = req.params;\" /><text type=\"break\" /><text value=\"  \" /><text value=\"const\" class=\"keyword\" /><text value=\" sql = \" /><text value=\"&quot;SELECT * FROM flights WHERE number = ?&quot;\" class=\"string\" /><text value=\";\" /><text type=\"break\" /><text value=\"  \" /><text value=\"const\" class=\"keyword\" /><text value=\" requestedFlight = db.prepare(sql).get(number);\" /><text type=\"break\" /><text type=\"break\" /><text value=\"  \" /><text value=\"if\" class=\"keyword\" /><text value=\" (!requestedFlight) {\" /><text type=\"break\" /><text value=\"    res.status(\" /><text value=\"404\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"      \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Can't find requested flight&quot;\" class=\"string\" /><text value=\",\" /><text type=\"break\" /><text value=\"    });\" /><text type=\"break\" /><text value=\"  } \" /><text value=\"else\" class=\"keyword\" /><text value=\" {\" /><text type=\"break\" /><text value=\"    res.status(\" /><text value=\"200\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"      \" /><text value=\"flight\" class=\"attr\" /><text value=\": requestedFlight\" /><text type=\"break\" /><text value=\"    });\" /><text type=\"break\" /><text value=\"  }\" /><text type=\"break\" /><text value=\"});\" /></content><interactions><interaction type=\"fillTheGap\" isDefault=\"true\"><options><option startIndex=\"29\" endIndex=\"32\" /><option startIndex=\"32\" endIndex=\"33\" /><option startIndex=\"34\" endIndex=\"37\" /><option correct=\"false\"><content><text value=\"&amp;\" /></content></option></options></interaction></interactions></code><p visible-if=\"wrong\">Asegúrese de elegir <code>req</code> seguido de <code>,</code> y finalmente <code>res</code>.</p></body></html>"
          },
          {
            "title": "Question: DELETE II",
            "id": 120993,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>¿Qué debería suceder si eliminar una entrada falla?</p><selection iscode=\"false\" multiple=\"multiple\"><item value=\"1\" correct=\"true\">El endpoint debe enviar una respuesta con un código de estado no exitoso</item><item value=\"2\" correct=\"false\">El endpoint debe enviar una respuesta con un cuerpo de respuesta en blanco</item><item value=\"3\" correct=\"false\">El endpoint debe enviar una respuesta con un código de estado exitoso</item></selection><p visible-if=\"wrong\">El endpoint debe enviar una respuesta con un código de estado no exitoso.</p></body></html>"
          },
          {
            "title": "Lesson #5 - Copy",
            "id": 132645,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>Establece el código de estado correcto y asegúrate de devolver JSON.</p><code version=\"2\" codelang=\"javascript\" name=\"app.js\" visible-if=\"always\"><content><text value=\"app.get(\" /><text value=\"&quot;/members/:name&quot;\" class=\"string\" /><text value=\", (req, res) =&gt; {\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" { name } = req.params;\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" sql = \" /><text value=\"&quot;SELECT * FROM members WHERE name = ?&quot;\" class=\"string\" /><text value=\";\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" requestedMember = db.prepare(sql).get(name);\" /><text type=\"break\" /><text value=\" \" /><text type=\"break\" /><text value=\" \" /><text value=\"if\" class=\"keyword\" /><text value=\" (!requestedMember) {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"404\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Can't find requested member&quot;\" class=\"string\" /><text value=\",\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" } \" /><text value=\"else\" class=\"keyword\" /><text value=\" {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"200\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"member\" class=\"attr\" /><text value=\": requestedMember\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" }\" /><text type=\"break\" /><text value=\"});\" /></content><interactions><interaction type=\"validatedInput\" isDefault=\"true\" startIndex=\"290\" endIndex=\"310\" /></interactions></code><p visible-if=\"wrong\">Asegúrese de elegir <code>res.status(200).json</code>.</p></body></html>"
          },
          {
            "title": "Question: Request Body",
            "id": 120932,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>¿Cuál es la sintaxis correcta para acceder a los datos del cuerpo de la solicitud?</p><selection iscode=\"false\" multiple=\"multiple\"><item value=\"1\" correct=\"true\"><code>request.body</code></item><item value=\"2\" correct=\"false\"><code>request.status</code></item><item value=\"3\" correct=\"false\"><code>request.body.data</code></item></selection><p visible-if=\"wrong\">Asegúrese de elegir <code>request.body</code>.</p></body></html>"
          },
          {
            "title": "Lesson #5 - Copy - Copy",
            "id": 132646,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>Completa el código para seleccionar una entrada de la tabla de miembros.</p><code version=\"2\" codelang=\"javascript\" name=\"app.js\" visible-if=\"always\"><content><text value=\"app.get(\" /><text value=\"&quot;/members/:name&quot;\" class=\"string\" /><text value=\", (req, res) =&gt; {\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" { name } = req.params;\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" sql = \" /><text value=\"&quot;SELECT * FROM members WHERE name = ?&quot;\" class=\"string\" /><text value=\";\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" requestedMember = db.prepare(sql).get(name);\" /><text type=\"break\" /><text value=\" \" /><text type=\"break\" /><text value=\" \" /><text value=\"if\" class=\"keyword\" /><text value=\" (!requestedMember) {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"404\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Can't find requested member&quot;\" class=\"string\" /><text value=\",\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" } \" /><text value=\"else\" class=\"keyword\" /><text value=\" {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"200\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"member\" class=\"attr\" /><text value=\": requestedMember\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" }\" /><text type=\"break\" /><text value=\"});\" /></content><interactions><interaction type=\"fillTheGap\" isDefault=\"true\"><options><option startIndex=\"8\" endIndex=\"24\" /><option correct=\"false\"><content><text value=\"&quot;/members&quot;\" /></content></option><option startIndex=\"51\" endIndex=\"55\" /><option startIndex=\"60\" endIndex=\"70\" /><option startIndex=\"170\" endIndex=\"174\" /><option startIndex=\"121\" endIndex=\"122\" /></options></interaction></interactions></code><p visible-if=\"wrong\">Asegúrese de elegir <code>\"/members/:name\"</code> seguido de <code>name</code> y luego <code>req.params</code>, <code>?</code>, <code>name</code>.</p></body></html>"
          },
          {
            "title": "Lesson #8",
            "id": 132647,
            "contentType": "interactive",
            "images": [],
            "interactiveContent": "<!DOCTYPE html ><html><body><p>Verifica si el comando SQL se ejecutó y realmente actualizó una entrada como se esperaba. También establece los códigos de estado en consecuencia.</p><code version=\"2\" codelang=\"javascript\" name=\"app.js\" visible-if=\"always\"><content><text value=\"app.patch(\" /><text value=\"&quot;/cars/:id&quot;\" class=\"string\" /><text value=\", (req, res) =&gt; {\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" { id } = req.params;\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" { model } = req.body;\" /><text type=\"break\" /><text value=\" \" /><text value=\"if\" class=\"keyword\" /><text value=\" (!model) {\" /><text type=\"break\" /><text value=\"  \" /><text value=\"return\" class=\"keyword\" /><text value=\" res.status(\" /><text value=\"400\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Please provide a model&quot;\" class=\"string\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" }\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" sql = \" /><text value=\"&quot;UPDATE cars SET model = ? WHERE id = ?&quot;\" class=\"string\" /><text value=\";\" /><text type=\"break\" /><text value=\" \" /><text value=\"const\" class=\"keyword\" /><text value=\" result = db.prepare(sql).run(model, id);\" /><text type=\"break\" /><text value=\" \" /><text type=\"break\" /><text value=\" \" /><text value=\"if\" class=\"keyword\" /><text value=\" (result.changes &gt; \" /><text value=\"0\" class=\"number\" /><text value=\") {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"200\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Car updated successfully&quot;\" class=\"string\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" } \" /><text value=\"else\" class=\"keyword\" /><text value=\" {\" /><text type=\"break\" /><text value=\"  res.status(\" /><text value=\"404\" class=\"number\" /><text value=\").json({\" /><text type=\"break\" /><text value=\"   \" /><text value=\"message\" class=\"attr\" /><text value=\": \" /><text value=\"&quot;Car not found&quot;\" class=\"string\" /><text type=\"break\" /><text value=\"  });\" /><text type=\"break\" /><text value=\" }\" /><text type=\"break\" /><text value=\"});\" /></content><interactions><interaction type=\"fillTheGap\" isDefault=\"true\"><options><option startIndex=\"299\" endIndex=\"305\" /><option startIndex=\"305\" endIndex=\"306\" /><option startIndex=\"306\" endIndex=\"313\" /><option startIndex=\"314\" endIndex=\"315\" /><option startIndex=\"316\" endIndex=\"317\" /><option startIndex=\"334\" endIndex=\"337\" /><option startIndex=\"414\" endIndex=\"417\" /><option correct=\"false\"><content><text value=\"201\" /></content></option></options></interaction></interactions></code><p visible-if=\"wrong\">Asegúrese de elegir <code>result</code> seguido de <code>.</code> y luego <code>changes</code>, <code>&gt;</code>, <code>0</code>, <code>200</code>, <code>404</code>.</p></body></html>"
          }
        ]
      }
    ]
  }
}